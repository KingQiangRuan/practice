# linux 内存分配机制是内核的核心功能，主要由伙伴系统和Slab分配器

1. 伙伴系统（Buddy System）
  1) 按页分配（一般4K）
  2) 碎片管理 ： 合并相邻空闲页（伙伴页）减少碎片
  3) 适合场景：适合大块连续内存分配

2. Slab 分配器
  1） 适合小内存分配
  2）Cache： 为同类对象预分配内存池，减少伙伴系统调用
  3）由连续页框组成，包含多个空闲对象，分配时直接使用
  4）减少碎片，提升分配效率

3. 常用的分配函数
  1）kmalloc： 基于Slab，分配物理连续内存，速度快；用于驱动、内核模块
  2）vmalloc： 分配虚拟地址连续，物理地址不连续，需页表查询，效率低； 用于大块内存需求(映射设备）
  3）malloc： 用户空间函数，仅分配虚拟地址，实际物理内存按需分配（延迟分配）; 用户程序。
